<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>房产详情</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Share Tech Mono', monospace;
  background: radial-gradient(ellipse at center, #0a0f1a 0%, #000000 100%);
  color: #00ffe5;
}

header {
  text-align: center;
  padding: 40px 20px;
  background: linear-gradient(90deg, #0ff 0%, #09f 100%);
  color: #000;
  font-size: 2rem;
  font-weight: bold;
  text-shadow: 0 0 6px #fff, 0 0 12px #0ff;
  letter-spacing: 3px;
  border-bottom: 2px solid #00ffe5;
}

.lang-buttons {
  margin-top: 10px;
}
.lang-buttons button {
  background: transparent;
  border: 2px solid #00ffe5;
  color: #00ffe5;
  padding: 6px 20px;
  margin: 0 8px;
  border-radius: 10px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
}
.lang-buttons button:hover {
  background: #00ffe5;
  color: #000;
}

main {
  max-width: 900px;
  margin: 50px auto;
  background: rgba(0, 0, 0, 0.5);
  border: 2px solid #00ffe5;
  border-radius: 16px;
  padding: 30px 40px;
  box-shadow: 0 0 30px #0ff;
}

.image-gallery {
  display: flex;
  overflow-x: auto;
  gap: 20px;
  margin-bottom: 30px;
  scrollbar-width: thin;
}
.image-gallery img {
  height: 240px;
  border-radius: 12px;
  cursor: pointer;
  border: 2px solid #00ffe5;
  box-shadow: 0 0 12px #00ffe566;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.image-gallery img:hover {
  transform: scale(1.1);
  box-shadow: 0 0 20px #00ffe5cc, 0 0 30px #09f;
}

h2 {
  font-size: 2rem;
  color: #00ffe5;
  margin-bottom: 15px;
  text-shadow: 0 0 8px #00ffff;
}

p {
  font-size: 1.1rem;
  color: #b2fefa;
  margin-bottom: 30px;
  text-shadow: 0 0 5px #09f;
}

.info {
  font-size: 1rem;
  line-height: 2;
  color: #99faff;
}
.label {
  display: inline-block;
  min-width: 100px;
  font-weight: bold;
  color: #00d5ff;
  text-shadow: 0 0 4px #00faff;
}

.action-buttons {
  display: flex;
  gap: 20px;
  margin-top: 40px;
  justify-content: center;
  flex-wrap: wrap;
}
a.back,
a.contact {
  background: #00ffe5;
  color: #000;
  padding: 12px 28px;
  text-decoration: none;
  font-weight: bold;
  border-radius: 30px;
  font-size: 1rem;
  transition: all 0.3s ease;
  box-shadow: 0 0 12px #00ffe5aa;
}
a.back:hover,
a.contact:hover {
  background: #0ff;
  box-shadow: 0 0 30px #00ffe5;
  color: #000;
  transform: scale(1.05);
}

/* 全屏查看器 HUD 风格 */
.viewer {
  position: fixed;
  inset: 0;
  background: rgba(0, 10, 30, 0.92);
  backdrop-filter: blur(5px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  flex-direction: column;
}
.viewer img {
  max-width: 90%;
  max-height: 80%;
  border: 3px solid #00ffe5;
  border-radius: 10px;
  box-shadow: 0 0 30px #00ffe5cc;
}

.viewer .close,
.viewer .prev,
.viewer .next {
  position: absolute;
  background: #00ffe5;
  color: #000;
  border: none;
  font-size: 1.3rem;
  padding: 10px 18px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  opacity: 0.8;
  box-shadow: 0 0 15px #00ffe5bb;
}
.viewer .close:hover,
.viewer .prev:hover,
.viewer .next:hover {
  opacity: 1;
}

.viewer .close { top: 24px; right: 24px; }
.viewer .prev { left: 24px; top: 50%; transform: translateY(-50%); }
.viewer .next { right: 24px; top: 50%; transform: translateY(-50%); }
</style>




</head>
<body>

<header>
  <h1 id="title">房产详情</h1>
  <div class="lang-buttons">
    <button onclick="setLanguage('zh')">中文</button>
    <button onclick="setLanguage('lo')">ລາວ</button>
  </div>
</header>

<main id="detailContainer"></main>

<div class="action-buttons">
  <a class="back" href="houses.html" id="backBtn">返回列表</a>
  <a class="contact" href="#" id="contactBtn" target="_blank" rel="noopener noreferrer">联系我们</a>
</div>

<!-- 全屏图片查看器 -->
<div class="viewer" id="viewer">
  <button class="close" onclick="closeViewer()">✕</button>
  <button class="prev" onclick="prevImage()">◀</button>
  <img id="viewerImg" src="" alt="preview" />
  <button class="next" onclick="nextImage()">▶</button>
</div>

<script>
const houseData = [
  {
    images: ["house-images/house1/1.jpg", "house-images/house1/2.jpg", "house-images/house1/3.jpg","house-images/house1/4.jpg", "house-images/house1/5.jpg", "house-images/house1/6.jpg"],
    title: { zh: "市中心三室两厅", lo: "ອາພາດເມນ 3 ຫ້ອງນອນ" },
    desc: { zh: "地理位置优越，配套齐全，120㎡ 高层", lo: "ສະຖານທີ່ກາງເມືອງ ຊັ້ນສູງ 120㎡" },
    price: 85000000,
    area: 120,
    floor: { zh: "高层", lo: "ຊັ້ນສູງ" },
    room: { zh: "三室两厅", lo: "3 ຫ້ອງນອນ 2 ຫ້ອງນັ່ງ" }
  },
  {
    images: ["house-images/house2/1.jpg", "house-images/house2/2.jpg", "house-images/house2/3.jpg","house-images/house2/4.jpg", "house-images/house2/5.jpg", "house-images/house2/6.jpg"],
    title: { zh: "郊区别墅", lo: "ບິລເລທົ່າລະບາຍ" },
    desc: { zh: "环境优美，私密性强，250㎡ 独栋", lo: "ສະບາຍຕາ ສ່ວນຕົວ 250㎡" },
    price: 135000000,
    area: 250,
    floor: { zh: "独栋别墅", lo: "ວິລລ່າສ່ວນຕົວ" },
    room: { zh: "四室三厅", lo: "4 ຫ້ອງນອນ 3 ຫ້ອງນັ່ງ" }
  }
];

const translations = {
  zh: {
    title: "房产详情",
    label_price: "价格",
    label_area: "面积",
    label_floor: "楼层",
    label_room: "户型",
    back: "返回列表",
    contact: "联系我们",
    currency: "KIP",
    whatsappNumber: "8562099194058",
    contactMessage: "您好！我对您发布的房产感兴趣，想了解更多信息。链接："
  },
  lo: {
    title: "ລາຍລະອຽດອະສັງຫາລື",
    label_price: "ລາຄາ",
    label_area: "ພື້ນທີ່",
    label_floor: "ຊັ້ນ",
    label_room: "ຫ້ອງນອນ",
    back: "ກັບໄປ",
    contact: "ຕິດຕໍ່ພວກເຮົາ",
    currency: "₭",
    whatsappNumber: "8562099194058",
    contactMessage: "ສະບາຍດີ! ຂ້ອຍສົນໃຈອະສັງຫານີ້, ຢາກຮູ້ເພີ່ມເຕີມ. ລິ້ງ: "
  }
};

let currentImages = [];
let currentIndex = 0;

function setLanguage(lang) {
  localStorage.setItem("siteLang", lang);
  renderDetails();
}

function renderDetails() {
  const params = new URLSearchParams(window.location.search);
  const id = parseInt(params.get("id"));
  const lang = localStorage.getItem("siteLang") || "zh";
  const dict = translations[lang];

  const house = houseData[id];
  if (!house) {
    alert("参数错误，返回首页！");
    window.location.href = "houses.html";
    return;
  }

  document.title = dict.title;
  document.getElementById("title").textContent = dict.title;

  currentImages = house.images;

  const imagesHtml = house.images.map((img, index) =>
    `<img src="${img}" onclick="openViewer(${index})" alt="房产图片 ${index + 1}">`
  ).join('');

  const html = `
    <div class="image-gallery">${imagesHtml}</div>
    <h2>${house.title[lang]}</h2>
    <p>${house.desc[lang]}</p>
    <div class="info">
      <div><span class="label">${dict.label_price}:</span> ${house.price.toLocaleString()} ${dict.currency}</div>
      <div><span class="label">${dict.label_area}:</span> ${house.area}㎡</div>
      <div><span class="label">${dict.label_floor}:</span> ${house.floor[lang]}</div>
      <div><span class="label">${dict.label_room}:</span> ${house.room[lang]}</div>
    </div>
  `;
  document.getElementById("detailContainer").innerHTML = html;

  document.getElementById("backBtn").textContent = dict.back;

  const message = encodeURIComponent(dict.contactMessage + window.location.href);
  const waLink = `https://wa.me/${dict.whatsappNumber}?text=${message}`;
  const contactBtn = document.getElementById("contactBtn");
  contactBtn.href = waLink;
  contactBtn.textContent = dict.contact;
}

function openViewer(index) {
  currentIndex = index;
  const viewerImg = document.getElementById("viewerImg");
  viewerImg.src = currentImages[currentIndex];
  viewerImg.style.transform = "scale(1)";
  document.getElementById("viewer").style.display = 'flex';
}

function closeViewer() {
  document.getElementById("viewer").style.display = 'none';
}

function prevImage() {
  currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
  document.getElementById("viewerImg").src = currentImages[currentIndex];
  document.getElementById("viewerImg").style.transform = "scale(1)";
}

function nextImage() {
  currentIndex = (currentIndex + 1) % currentImages.length;
  document.getElementById("viewerImg").src = currentImages[currentIndex];
  document.getElementById("viewerImg").style.transform = "scale(1)";
}

document.addEventListener("DOMContentLoaded", renderDetails);

document.getElementById("viewerImg").addEventListener("wheel", function (e) {
  e.preventDefault();
  let scale = parseFloat(this.style.transform.replace("scale(", "").replace(")", "")) || 1;
  scale += e.deltaY * -0.0012;
  scale = Math.min(Math.max(1, scale), 3);
  this.style.transform = `scale(${scale})`;
});
</script>

</body>
</html>
