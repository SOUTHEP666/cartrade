<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="title">ËÄÅÊåù‰∫§ÊòìÈÄö - ÂïÜÂìÅÂàóË°®</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0; padding: 0;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0f0f1a;
      color: #fff;
      animation: fadeInBody 1.2s ease both;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    @keyframes fadeInBody {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    header {
      background: linear-gradient(to right, #00ffae, #00bfff);
      color: #000;
      padding: 40px 20px;
      text-align: center;
      animation: slideDown 1s ease-out both;
      box-shadow: 0 4px 20px rgba(0, 255, 200, 0.6);
    }
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    header h1 {
      font-size: 2.4em;
      font-weight: bold;
      text-shadow: 0 0 8px rgba(0, 255, 255, 0.6);
    }
    .lang-buttons {
      margin-top: 10px;
    }
    .lang-buttons button {
      background: #fff;
      color: #000;
      border: none;
      padding: 6px 14px;
      border-radius: 18px;
      margin: 0 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .lang-buttons button:hover {
      background: #00ffae;
      color: #000;
    }
    main {
      flex: 1;
      padding: 40px 20px;
      max-width: 1200px;
      margin: auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 30px;
    }
    .product-card {
      background: #1c1c2c;
      border-radius: 20px;
      overflow: hidden;
      text-align: center;
      color: #fff;
      box-shadow: 0 0 12px rgba(0, 255, 255, 0.2);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      border: 1px solid rgba(0,255,255,0.3);
      position: relative;
      cursor: pointer;
    }
    .product-card::before {
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      background: linear-gradient(45deg, #00ffe0, #00bfff, #00ffe0);
      z-index: -1;
      filter: blur(10px);
      opacity: 0;
      transition: opacity 0.5s ease;
      border-radius: 20px;
    }
    .product-card:hover::before {
      opacity: 1;
    }
    .product-card:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
    }
    .product-card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      filter: brightness(1.1) contrast(1.1);
      transition: transform 0.4s ease;
    }
    .product-card:hover img {
      transform: scale(1.05);
    }
    .product-card h3 {
      margin: 15px 10px 8px;
      font-size: 1.2em;
      font-weight: bold;
      color: #00ffe0;
    }
    .product-card:hover h3 {
      color: #00ffbb;
    }
    .product-card p {
      margin: 0 15px 20px;
      font-size: 0.9em;
      color: #aaa;
      min-height: 40px;
    }
    .back-home {
      display: inline-block;
      margin: 30px auto 40px;
      padding: 12px 30px;
      background: linear-gradient(to right, #00ffae, #00bfff);
      color: #000;
      font-weight: bold;
      border-radius: 30px;
      text-decoration: none;
      box-shadow: 0 4px 12px rgba(0, 255, 200, 0.6);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      align-self: center;
    }
    .back-home:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 18px rgba(0, 255, 200, 0.8);
    }

    /* üì± ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä */
    @media (max-width: 1024px) {
      main {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        padding: 30px 15px;
        gap: 24px;
      }
      .product-card img {
        height: 140px;
      }
    }
    @media (max-width: 768px) {
      header {
        padding: 30px 15px;
      }
      header h1 {
        font-size: 1.6em;
      }
      input[type="text"], input[type="number"] {
        width: 90% !important;
        font-size: 1em;
      }
      .lang-buttons button {
        padding: 5px 10px;
        font-size: 0.9em;
      }
      .back-home {
        padding: 10px 20px;
        font-size: 0.95em;
      }
      .product-card img {
        height: 120px;
      }
    }
    @media (max-width: 500px) {
      main {
        grid-template-columns: 1fr;
        padding: 20px 10px;
        gap: 20px;
      }
      .product-card img {
        height: 180px;
      }
    }
  </style>
</head>
<body>

<header>
  <h1 data-i18n="products">ÂïÜÂìÅÂàóË°®</h1>
  <div class="lang-buttons">
    <button onclick="setLanguage('zh')">‰∏≠Êñá</button>
    <button onclick="setLanguage('lo')">‡∫û‡∫≤‡∫™‡∫≤‡∫•‡∫≤‡∫ß</button>
  </div>
</header>

<input type="text" id="searchInput" data-i18n-placeholder="search_placeholder" placeholder="ÊêúÁ¥¢ÂïÜÂìÅ..." style="margin:20px auto;display:block;width:300px;padding:10px;border-radius:10px;border:none;font-size:1em">

<div style="text-align:center;margin-bottom:20px;">
  <label id="priceLabel" data-i18n="price_range" style="margin-right:10px;">‰ª∑Ê†ºÂå∫Èó¥Ôºö</label>
  <input type="number" id="minPrice" data-i18n-placeholder="min_price" placeholder="ÊúÄ‰Ωé‰ª∑" style="width:80px;padding:5px;margin-right:10px;" />
  <input type="number" id="maxPrice" data-i18n-placeholder="max_price" placeholder="ÊúÄÈ´ò‰ª∑" style="width:80px;padding:5px;" />
</div>

<main id="productContainer"></main>

<div style="text-align:center; margin: 20px;">
  <button id="prevPage" onclick="changePage(-1)" data-i18n="prev_page">‰∏ä‰∏ÄÈ°µ</button>
  <span id="pageInfo"></span>
  <button id="nextPage" onclick="changePage(1)" data-i18n="next_page">‰∏ã‰∏ÄÈ°µ</button>
</div>

<a href="index.html" class="back-home" data-i18n="back_home">ËøîÂõûÈ¶ñÈ°µ</a>

<script>
const translations = {
  zh: {
    title: "ËÄÅÊåù‰∫§ÊòìÈÄö - ÂïÜÂìÅÂàóË°®",
    products: "ÂïÜÂìÅÂàóË°®",
    back_home: "ËøîÂõûÈ¶ñÈ°µ",
    search_placeholder: "ÊêúÁ¥¢ÂïÜÂìÅ...",
    price_range: "‰ª∑Ê†ºÂå∫Èó¥Ôºö",
    min_price: "ÊúÄ‰Ωé‰ª∑",
    max_price: "ÊúÄÈ´ò‰ª∑",
    prev_page: "‰∏ä‰∏ÄÈ°µ",
    next_page: "‰∏ã‰∏ÄÈ°µ",
    page_info: (current, total) => `Á¨¨ ${current} È°µ / ÂÖ± ${total} È°µ`,
    currency: "KIP",
    product1_title: "ÊãñÈûã",
    product1_desc: "Ë∂ÖËΩØÊãñÈûãÔºåÊó†ÂºÇÂë≥„ÄÇ",
    product2_title: "ÈûãÂ≠ê",
    product2_desc: "Ë∂ÖËñÑÔºåË∂ÖËΩªÔºåÊó†ÂºÇÂë≥„ÄÇ",
    product3_title: "ÈûãÂ≠ê",
    product3_desc: "Â•ΩÁ©øÔºåÊó†ÂºÇÂë≥„ÄÇ",
    product4_title: "Êô∫ËÉΩÊâãË°®",
    product4_desc: "ËøêÂä®ÂÅ•Â∫∑ÁõëÊµãÔºåÊó∂Â∞öËÆæËÆ°„ÄÇ"
  },
  lo: {
    title: "‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤",
    products: "‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤",
    back_home: "‡∫Å‡∫±‡∫ö‡ªÑ‡∫õ‡ªú‡ªâ‡∫≤‡∫´‡∫º‡∫±‡∫Å",
    search_placeholder: "‡∫Ñ‡∫ª‡ªâ‡∫ô‡∫´‡∫≤‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤...",
    price_range: "‡∫ä‡ªà‡∫ß‡∫á‡∫•‡∫≤‡∫Ñ‡∫≤:",
    min_price: "‡∫•‡∫≤‡∫Ñ‡∫≤‡∫ï‡ªà‡ªç‡∫≤‡∫™‡∫∏‡∫î",
    max_price: "‡∫•‡∫≤‡∫Ñ‡∫≤‡∫™‡∫π‡∫á‡∫™‡∫∏‡∫î",
    prev_page: "‡∫´‡∫ô‡ªâ‡∫≤‡∫Å‡ªà‡∫≠‡∫ô",
    next_page: "‡∫´‡∫ô‡ªâ‡∫≤‡∫ï‡ªç‡ªà‡ªÑ‡∫õ",
    page_info: (current, total) => `‡∫´‡∫ô‡ªâ‡∫≤ ${current} / ${total}`,
    currency: "‚Ç≠",
    product1_title: "‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö‡∫≠‡∫±‡∫î‡∫™‡∫∞‡∫´‡∫º‡∫∏‡∫°",
    product1_desc: "‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö‡ªÉ‡ªù‡ªà‡∫õ‡∫∞‡∫™‡∫¥‡∫î‡∫ó‡∫¥‡∫û‡∫≤‡∫ö‡∫™‡∫π‡∫á ‡ªÅ‡∫•‡∫∞ ‡∫ñ‡ªà‡∫≤‡∫ç‡∫Æ‡∫π‡∫ö‡∫ä‡∫±‡∫î‡ªÄ‡∫à‡∫ô",
    product2_title: "‡∫´‡∫π‡∫ü‡∫±‡∫á‡∫ö‡∫•‡∫π‡∫ó‡∫π‡∫î",
    product2_desc: "‡∫™‡∫Ω‡∫á‡∫î‡∫µ ‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫™‡∫≤‡∫ç ‡ªÅ‡∫•‡∫∞ ‡∫ä‡∫¥‡∫î‡ªÑ‡∫î‡ªâ‡∫ç‡∫≤‡∫ß‡∫ô‡∫≤‡∫ô",
    product3_title: "‡ªÇ‡∫ô‡∫î‡∫ö‡∫∏‡∫Å",
    product3_desc: "‡ªÄ‡∫ö‡∫ª‡∫≤ ‡ªÅ‡∫•‡∫∞ ‡∫™‡∫∞‡∫î‡∫ß‡∫Å ‡∫™‡∫ª‡∫°‡∫ö‡∫π‡∫ô‡ªÅ‡∫ö‡∫ö‡∫™‡ªç‡∫≤‡∫•‡∫±‡∫ö‡∫ß‡∫Ω‡∫Å‡∫á‡∫≤‡∫ô",
    product4_title: "‡∫ô‡∫≤‡∫•‡∫¥‡∫Å‡∫≤‡∫≠‡∫±‡∫î‡∫™‡∫∞‡∫´‡∫º‡∫∏‡∫°",
    product4_desc: "‡∫ï‡∫¥‡∫î‡∫ï‡∫≤‡∫°‡∫™‡∫∏‡∫Ç‡∫∞‡∫û‡∫≤‡∫ö ‡ªÅ‡∫•‡∫∞ ‡ªÅ‡∫ü‡∫ä‡∫±‡∫ô"
  }
};

const productList = [
  { image: "product-images/product1/6.jpg", titleKey: "product1_title", descKey: "product1_desc", price: 89000 },
  { image: "product-images/product2/1.jpg", titleKey: "product2_title", descKey: "product2_desc", price: 120000 },
  { image: "product-images/product3/4.jpg", titleKey: "product3_title", descKey: "product3_desc", price: 75000 },
  { image: "product-images/product1/6.jpg", titleKey: "product4_title", descKey: "product4_desc", price: 65000 }
];

let currentPage = 1;
const itemsPerPage = 12;
let filteredList = [...productList];

function applyTranslations(lang) {
  const dict = translations[lang] || translations.zh;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (typeof dict[key] === 'string') el.textContent = dict[key];
  });
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (dict[key]) el.placeholder = dict[key];
  });
  const totalPages = Math.ceil(filteredList.length / itemsPerPage);
  document.getElementById('pageInfo').innerText = dict.page_info(currentPage, totalPages);
  document.title = dict.title || document.title;
}

function setLanguage(lang) {
  localStorage.setItem('siteLang', lang);
  applyTranslations(lang);
  renderProducts();
}

function renderProducts() {
  const lang = localStorage.getItem('siteLang') || 'zh';
  const dict = translations[lang];
  const start = (currentPage - 1) * itemsPerPage;
  const end = start + itemsPerPage;
  const items = filteredList.slice(start, end);

  const container = document.getElementById('productContainer');
  container.innerHTML = '';
  items.forEach(product => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <img src="${product.image}" alt="${dict[product.titleKey]}" />
      <h3>${dict[product.titleKey]}</h3>
      <p>${dict[product.descKey]}</p>
      <p style="color:#00ffae;">${product.price} ${dict.currency}</p>
    `;
    card.addEventListener('click', () => {
      window.location.href = `product-detail.html?id=${productList.indexOf(product)}`;
    });
    container.appendChild(card);
  });

  applyTranslations(lang);
}

function changePage(delta) {
  const totalPages = Math.ceil(filteredList.length / itemsPerPage);
  currentPage = Math.max(1, Math.min(currentPage + delta, totalPages));
  renderProducts();
}

function filterProducts() {
  const keyword = document.getElementById('searchInput').value.toLowerCase();
  const min = parseFloat(document.getElementById('minPrice').value) || 0;
  const max = parseFloat(document.getElementById('maxPrice').value) || Infinity;
  const lang = localStorage.getItem('siteLang') || 'zh';
  const dict = translations[lang];

  filteredList = productList.filter(p => {
    const title = dict[p.titleKey].toLowerCase();
    const desc = dict[p.descKey].toLowerCase();
    return (title.includes(keyword) || desc.includes(keyword)) && p.price >= min && p.price <= max;
  });

  currentPage = 1;
  renderProducts();
}

window.setLanguage = setLanguage;

document.addEventListener('DOMContentLoaded', () => {
  const lang = localStorage.getItem('siteLang') || 'zh';
  applyTranslations(lang);
  renderProducts();
  document.getElementById('searchInput').addEventListener('input', filterProducts);
  document.getElementById('minPrice').addEventListener('input', filterProducts);
  document.getElementById('maxPrice').addEventListener('input', filterProducts);
});
</script>

</body>
</html>
